#  时间：2021.05.07 下午

----

##   基础知识问题

    1. 线程和进程的区别？
        答：进程是进行中的程序，是系统进行资源分配和调度的一个独立单位，线程是进程的一个实体，是CPU调度和分派的基本单位，只拥有一点运行中需要的资源：计数器、堆栈，共享进程所拥有的资源

        是不同的操作系统资源管理方式，进程有独立的地址空间，一个进程崩溃后，在保护模式下不会对其它进程产生影响，而线程只是一个进程中的不同执行路径。

        线程有自己的堆栈和局部变量，但线程之间没有单独的地址空间，一个线程死掉就等于一个进程死掉，多进程的程序要比多线程的程序更加健壮，但是进程切换时，耗费的资源是比较大的，效率差一些，`但对于一些要求同时并发进行，又要共享某些变量的并发操作，只能使用线程，不能用进程`
        
        线程的划分尺度小于进程，是的多线程程序的并发性高
        进程在执行过程中拥有独立的内存单元，而多个线程共享的内存，极大的提高了程序的运行效率

        从逻辑上来看，多线程的意义在于一个应用程序中，有多个执行部分可以同时执行，但是操作系统并没有将多个线程看成多个独立的应用

    2. 线程是不占用任何资源的吗？
        答：程序计数器、堆栈信息

    3. （扩展）进程、线程、协程的区别是什么？

    4. 进程切换和线程切换有什么不同？
        答：最主要的区别就是进程切换涉及到虚拟地址空间的切换而线程则不会，因为每个进程都有自己的虚拟地址空间，而线程是共享所在进程的虚拟地址空间的。

        为什么切换虚拟地址很慢？
        答：进程都有自己的虚拟地址空间的，把虚拟地址转换为物理地址需要查找页表，页表查找是一个很慢的过程，因此通常需要使用cache来缓存常用的地址映射（TLB），可以加速页表查询，每个进程都有自己的虚拟地址，切换进程的时候，TLB就会失效，导致命中率降低，所以表现出来就是程序运行很慢，而线程切换无需切换地址空间，所以更快。

    4. 局部性原理是什么？应用场景举例？
        答：CSAPP中的多级缓存，需要预处理相关的数据，才能加快程序的运行
        时间局部性：如果一个信息项正在被访问，那么在近期它很可能还会被再次访问，（用过的数据可能会再次被使用）
        空间局部性：在最近的将来将用到的信息很可能与现在正在使用的信息在空间地址上是临近的，正在使用的这个数据地址旁边的数据，当然也可能被用到的，例如数组。

    5. go语言的内存管理和特性？
        答：go语言不使用malloc来获取内存，而是直接操作系统申请（通过mmap），它必须自己实现内存分配和释放（像malloc一样），最初是基于TCMalloc（线程缓存实现）

    6. go语言协程的概念？
        答：是基于线程实现的，对内核透明的存在，没有时间片的概念，只能进行协作式调度

----

##  区块链项目工程问题

    1. 区块链1.0、2.0、3.0有什么不同？
        分析：
    2. 区块链传统的“排序-执行”架构和Fabric的“执行-排序-验证”架构思想的区别？

    3. 为什么要采用传统的架构而非Fabric架构？

    4. 联盟链Fabric多通道的优势？

    5. 国密算法与传统算法的区别？

    6. SHA-256有什么优势和缺点？主要是缺点？

    7. Paxos与Raft算法的理解和区别？大致的实现需要说一下？

    8. Raft相对于Paxos有哪些改进，提高了什么性能？？怎么提升的？

    9. Raft中如果存在网络分区需要如何处理？

    10. Raft io是如何实现的？

    11. Pow和Pos的区别以及各自的弊端？

    12. Fabric原有共识组件的缺陷？

    13. 为什么要采用DHT结构取代Fabric原有的结构？需要明白原始的结构是什么样子的，有什么缺点？

    14. DHT的原理和实现？

    15. Chord算法在DHT环上的设计和实现细节？

    16. DHT-Chord环是如何进行排序和节点选取以及怎么操作的？

----

##  数据库项目工程问题

    1. TiDB的parse层是如何实现解析的？

    2. 介绍一下TiDB的词法解析器和语法解析器？和Calcite的parser.jj有什么不同之处？

    3. 给一个Sql语句，描述一下是如何将其拆分的？ `eg：select * from ...`

    4. 简单介绍一下TiDB的组件和功能？

    5. TiDB的事务是怎么实现的？

    6. TiDB的索引是如何构建的？

    7. TiDB是否支持混合索引？如果支持描述是如何实现的？

    8. 如果是混合索引 `r1_r2_r3` ，现在只想操作r3的数据，该索引怎么工作？

    9. 当前项目中在索引实现上有没有什么优化的方案？

    10. TiDB版本4.0和5.0的特性是什么？

    11. TiDB与传统的Mysql优势在哪里？

    12. TiDB的操作下推算子是如何实现的？

    13. 在TiDB_Raft协议中，如果某一个节点宕机之后，怎么操作来保证事务的原子性？

    14. 为什么最后选择Calcite而不选择TiDB直接进行改造？

    15. TiDB的元数据信息是如何放置的？

    16. 如何保证索引编码后的一致性？
