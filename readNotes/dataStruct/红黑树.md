# 红黑树

---

    红黑树是一种自平衡二叉查找树。我们可以将红黑树看做为二叉搜索树的改进版本，其在树的结构失衡非常严重的时候会通过旋转来解决问题。

![](https://spongecaptain.cool/images/img_mysql/red_black_tree.gif)

    最终的结构如下：

![](https://spongecaptain.cool/images/img_mysql/image-20200710225435274.png)

    我们可以发现，在自增整数作为索引的背景下红黑树的表现比二叉搜索树好非常多，原本第6行数据要在表上查找6次，现在仅仅需要查找3次，效率高了不少。

    这就是二叉树变平衡了的优势。
    
    但是如果数据库中有 2 千万条数据，那么红黑树需要多少层呢？
    
    树的层级有 25 层，这可是一颗相当高的一棵树，这会极大影响搜索效率。